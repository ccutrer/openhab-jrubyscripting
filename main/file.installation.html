<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: Installation
  
    &mdash; Documentation by YARD 0.9.28
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "installation";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: Installation</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h2>Prerequisites</h2>
<ol>
<li>openHAB 3.3+</li>
<li>The JRuby Scripting Language Addon</li>
<li>This scripting library</li>
</ol>
<h2>Installation</h2>
<p>Configure the openHAB JRuby Automation to install the <code>openhab-jrubyscripting</code> Ruby gem and automatically
insert the <code>require</code> statement at the beginning of your scripts (<em>optional</em>).</p>
<h3>From the user interface</h3>
<ol>
<li>Go to <code>Settings -&gt; Add-ons -&gt; Automation</code> and install the jrubyscripting automation addon following the <a href="https://www.openhab.org/docs/configuration/addons.html">openHAB instructions</a></li>
<li>Go to <code>Settings -&gt; Other Services -&gt; JRuby Scripting</code>:
<ul>
<li><strong>Ruby Gems</strong>: <code>openhab-jrubyscripting=~&gt;5.0</code></li>
<li><strong>Require Scripts</strong>: <code>openhab/dsl</code> (not required, but recommended)</li>
</ul>
</li>
</ol>
<h3>Using files</h3>
<ol>
<li>
<p>Configure JRuby openHAB services</p>
<p>Create a file called <code>jruby.cfg</code> in <code>&lt;OPENHAB_CONF&gt;/services/</code> with the following content:</p>
<pre class="code ruby"><code class="ruby">org.openhab.automation.jrubyscripting<span style="color:#A60">:gems=</span>openhab-jrubyscripting=~&gt;<span style="color:#60E">5.0</span>
<span style="color:#777"># optional: uncomment the following line if you prefer not having to </span>
<span style="color:#777"># insert require 'openhab/dsl' at the top of your scripts.</span>
<span style="color:#777"># org.openhab.automation.jrubyscripting:require=openhab/dsl</span>
</code></pre>
<p>This configuration with the openhab-jrubyscripting gem specified with <a href="https://thoughtbot.com/blog/rubys-pessimistic-operator">pessimistic versioning</a> will install any version of openhab-jrubyscripting greater than or equal to 5.0 but less than 6.0. On system restart if any (non-breaking) new versions of the library are available they will automatically be installed.</p>
</li>
<li>
<p>Edit <code>&lt;OPENHAB_CONF&gt;/services/addons.cfg</code> and ensure that <code>jrubyscripting</code> is included in an uncommented <code>automation=</code> list of automations to install.</p>
</li>
</ol>
<h2>Upgrading</h2>
<p>Depending on the versioning selected in the <code>jruby.cfg</code> or the gems list in the user interface, file upgrading will either be automatic after a openHAB restart or manual.  For manual upgrades select the version of the gem exactly, for example:
<code>org.openhab.automation.jrubyscripting:gems=openhab-jrubyscripting=5.0.0</code></p>
<p>Will install and stay at version 5.0.0, to upgrade to version 5.0.1, change the configuration:
<code>org.openhab.automation.jrubyscripting:gems=openhab-jrubyscripting=5.0.1</code></p>
<p>To automatically upgrade, it is recommended to use pessimistic versioning:
<code>org.openhab.automation.jrubyscripting:gems=openhab-jrubyscripting=~&gt;5.0</code>
This will install at least version 5.0 and on every restart will automatically install any version that is less than 6.0. This ensures that fixes and new features are available without introducing any breaking changes.</p>
</div></div>

      <div id="footer">
  Generated on Tue Dec  6 23:38:57 2022 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.1.3).
</div>

    </div>
  </body>
</html>