<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: OpenHAB::DSL::Rules::BuilderDSL
  
    &mdash; Documentation by YARD 0.9.28
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/fonts.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/navbar.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/sidebar.css" type="text/css" />

<script type="text/javascript">
  pathId = "OpenHAB::DSL::Rules::BuilderDSL";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


    <script type="text/javascript">
      indexpath = '../../../index.json';
      base_url = '../../../';
    </script>
  </head>
  <body>
    <div id="app">
      <header class="navbar">
        <a href="../../../index.html">
          <img src="../../../docs/images/openhab-logo.png" alt="openHAB" class="logo can-hide">
          <img src="../../../docs/images/jrubyscripting.png" alt="openHAB" class="logo">
          <span class="site-name can-hide">openHAB</span>
        </a>
        <div class="links">
          <form class="search-box" role="search" style="display: none">
  <input id="search-input" class="search-query ds-input" placeholder autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-label="search input" style="position: relative, vertical-align: top;">
  <div class="search-results" role="listbox">
    <ul></ul>
  </div>
</form>

          <nav class="nav-links can-hide">
            <div class="nav-item">
              <a href="https://github.com/ccutrer/openhab-jrubyscripting" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub
              <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
            </div>
          </nav>
        </div>
      </header>

      <div class="sidebar-mask"></div>
      <aside class="sidebar">
        <div class="page-versions">
  <ul class="version-switcher">
    <li><a href="/openhab-jrubyscripting/5.0" class="version-button stable">Stable <small>(5.0)</small></a></li>
    <li><a href="/openhab-jrubyscripting/main" class="version-button main">Latest <small>(main)</small></a></li>
  </ul>
  
  
</div>


        
        <ul class="sidebar-links">
          <li>
            <section class="sidebar-group collapsed">
              <p class="sidebar-heading"><span><a href="../../../index.html">Getting Started</a></span><a class="arrow toggle right"></a></p>
              <ul class="sidebar-links sidebar-group-items">
                
  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../index.html" title="USAGE">USAGE</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.CHANGELOG.html" title="CHANGELOG">CHANGELOG</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.CONTRIBUTING.html" title="Contributing">Contributing</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.README.html" title="README">README</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.conversions.html" title="Rule Conversions">Rule Conversions</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.examples.html" title="Examples">Examples</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.ruby-basics.html" title="Ruby Basics">Ruby Basics</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.testing.html" title="Testing Your Rules">Testing Your Rules</a>
    </span>
    
  </li>


              </ul>
            </section>
          </li>
          
          <li>
            <section class="sidebar-group">              
              <p class="sidebar-heading"><span><span class='object_link'><a href="../../../top-level-namespace.html" title="Top Level Namespace (root)">Classes</a></span></span><a class="arrow toggle down"></a></p>
              <ul class="sidebar-links sidebar-group-items class-list">
                
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../OpenHAB.html" title="OpenHAB (module)">OpenHAB</a></span>
      
      
        <a class="arrow toggle down"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../Core.html" title="OpenHAB::Core (module)">Core</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/AbstractUID.html" title="OpenHAB::Core::AbstractUID (class)">AbstractUID</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Actions.html" title="OpenHAB::Core::Actions (module)">Actions</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/EntityLookup.html" title="OpenHAB::Core::EntityLookup (module)">EntityLookup</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Events.html" title="OpenHAB::Core::Events (module)">Events</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/AbstractEvent.html" title="OpenHAB::Core::Events::AbstractEvent (class)">AbstractEvent</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/AbstractThingDTO.html" title="OpenHAB::Core::Events::AbstractThingDTO (class)">AbstractThingDTO</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemChannelLinkDTO.html" title="OpenHAB::Core::Events::ItemChannelLinkDTO (class)">ItemChannelLinkDTO</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemCommandEvent.html" title="OpenHAB::Core::Events::ItemCommandEvent (class)">ItemCommandEvent</a></span>
      
        &lt; ItemEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemEvent.html" title="OpenHAB::Core::Events::ItemEvent (class)">ItemEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemState.html" title="OpenHAB::Core::Events::ItemState (module)">ItemState</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemStateChangedEvent.html" title="OpenHAB::Core::Events::ItemStateChangedEvent (class)">ItemStateChangedEvent</a></span>
      
        &lt; ItemEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemStateEvent.html" title="OpenHAB::Core::Events::ItemStateEvent (class)">ItemStateEvent</a></span>
      
        &lt; ItemEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ThingStatusInfoChangedEvent.html" title="OpenHAB::Core::Events::ThingStatusInfoChangedEvent (class)">ThingStatusInfoChangedEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ThingStatusInfoEvent.html" title="OpenHAB::Core::Events::ThingStatusInfoEvent (class)">ThingStatusInfoEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Items.html" title="OpenHAB::Core::Items (module)">Items</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/ColorItem.html" title="OpenHAB::Core::Items::ColorItem (class)">ColorItem</a></span>
      
        &lt; DimmerItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/ContactItem.html" title="OpenHAB::Core::Items::ContactItem (class)">ContactItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/DateTimeItem.html" title="OpenHAB::Core::Items::DateTimeItem (class)">DateTimeItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/DimmerItem.html" title="OpenHAB::Core::Items::DimmerItem (class)">DimmerItem</a></span>
      
        &lt; SwitchItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/GenericItem.html" title="OpenHAB::Core::Items::GenericItem (class)">GenericItem</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/GroupItem.html" title="OpenHAB::Core::Items::GroupItem (class)">GroupItem</a></span>
      
        &lt; GenericItem
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">Members</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/ImageItem.html" title="OpenHAB::Core::Items::ImageItem (class)">ImageItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/LocationItem.html" title="OpenHAB::Core::Items::LocationItem (class)">LocationItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/Metadata.html" title="OpenHAB::Core::Items::Metadata (module)">Metadata</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/Metadata/Hash.html" title="OpenHAB::Core::Items::Metadata::Hash (class)">Hash</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/Metadata/NamespaceHash.html" title="OpenHAB::Core::Items::Metadata::NamespaceHash (class)">NamespaceHash</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/Metadata/Provider.html" title="OpenHAB::Core::Items::Metadata::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/NumberItem.html" title="OpenHAB::Core::Items::NumberItem (class)">NumberItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/NumericItem.html" title="OpenHAB::Core::Items::NumericItem (module)">NumericItem</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/Persistence.html" title="OpenHAB::Core::Items::Persistence (module)">Persistence</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/Persistence/HistoricState.html" title="OpenHAB::Core::Items::Persistence::HistoricState (class)">HistoricState</a></span>
      
        &lt; SimpleDelegator
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/PlayerItem.html" title="OpenHAB::Core::Items::PlayerItem (class)">PlayerItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/Provider.html" title="OpenHAB::Core::Items::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/Registry.html" title="OpenHAB::Core::Items::Registry (class)">Registry</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/RollershutterItem.html" title="OpenHAB::Core::Items::RollershutterItem (class)">RollershutterItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/Semantics.html" title="OpenHAB::Core::Items::Semantics (module)">Semantics</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/StateStorage.html" title="OpenHAB::Core::Items::StateStorage (class)">StateStorage</a></span>
      
        &lt; SimpleDelegator
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/StringItem.html" title="OpenHAB::Core::Items::StringItem (class)">StringItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/SwitchItem.html" title="OpenHAB::Core::Items::SwitchItem (class)">SwitchItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/LazyArray.html" title="OpenHAB::Core::LazyArray (module)">LazyArray</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Provider.html" title="OpenHAB::Core::Provider (class)">Provider</a></span>
      
        &lt; org.openhab.core.common.registry.AbstractProvider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Registry.html" title="OpenHAB::Core::Registry (class)">Registry</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Rules.html" title="OpenHAB::Core::Rules (module)">Rules</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Rules/Provider.html" title="OpenHAB::Core::Rules::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Rules/Registry.html" title="OpenHAB::Core::Rules::Registry (class)">Registry</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Rules/Rule.html" title="OpenHAB::Core::Rules::Rule (module)">Rule</a></span>
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/ScriptHandling.html" title="OpenHAB::Core::ScriptHandling (module)">ScriptHandling</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Things.html" title="OpenHAB::Core::Things (module)">Things</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/Channel.html" title="OpenHAB::Core::Things::Channel (class)">Channel</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ChannelUID.html" title="OpenHAB::Core::Things::ChannelUID (class)">ChannelUID</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ItemChannelLink.html" title="OpenHAB::Core::Things::ItemChannelLink (class)">ItemChannelLink</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/Links.html" title="OpenHAB::Core::Things::Links (module)">Links</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Things/Links/Provider.html" title="OpenHAB::Core::Things::Links::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ProfileCallback.html" title="OpenHAB::Core::Things::ProfileCallback (module)">ProfileCallback</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/Provider.html" title="OpenHAB::Core::Things::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/Registry.html" title="OpenHAB::Core::Things::Registry (class)">Registry</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/Thing.html" title="OpenHAB::Core::Things::Thing (module)">Thing</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Things/Thing/ChannelsArray.html" title="OpenHAB::Core::Things::Thing::ChannelsArray (class)">ChannelsArray</a></span>
      
        &lt; Array
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Timer.html" title="OpenHAB::Core::Timer (class)">Timer</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Types.html" title="OpenHAB::Core::Types (module)">Types</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/Command.html" title="OpenHAB::Core::Types::Command (module)">Command</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/DateTimeType.html" title="OpenHAB::Core::Types::DateTimeType (class)">DateTimeType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/DecimalType.html" title="OpenHAB::Core::Types::DecimalType (class)">DecimalType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/HSBType.html" title="OpenHAB::Core::Types::HSBType (class)">HSBType</a></span>
      
        &lt; PercentType
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/IncreaseDecreaseType.html" title="OpenHAB::Core::Types::IncreaseDecreaseType (class)">IncreaseDecreaseType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/NextPreviousType.html" title="OpenHAB::Core::Types::NextPreviousType (class)">NextPreviousType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/NumericType.html" title="OpenHAB::Core::Types::NumericType (module)">NumericType</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/OnOffType.html" title="OpenHAB::Core::Types::OnOffType (class)">OnOffType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/OpenClosedType.html" title="OpenHAB::Core::Types::OpenClosedType (class)">OpenClosedType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/PercentType.html" title="OpenHAB::Core::Types::PercentType (class)">PercentType</a></span>
      
        &lt; DecimalType
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/PlayPauseType.html" title="OpenHAB::Core::Types::PlayPauseType (class)">PlayPauseType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/PointType.html" title="OpenHAB::Core::Types::PointType (class)">PointType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/QuantityType.html" title="OpenHAB::Core::Types::QuantityType (class)">QuantityType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/RawType.html" title="OpenHAB::Core::Types::RawType (class)">RawType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/RefreshType.html" title="OpenHAB::Core::Types::RefreshType (class)">RefreshType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/RewindFastforwardType.html" title="OpenHAB::Core::Types::RewindFastforwardType (class)">RewindFastforwardType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/StopMoveType.html" title="OpenHAB::Core::Types::StopMoveType (class)">StopMoveType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/StringType.html" title="OpenHAB::Core::Types::StringType (class)">StringType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/Type.html" title="OpenHAB::Core::Types::Type (module)">Type</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/UnDefType.html" title="OpenHAB::Core::Types::UnDefType (class)">UnDefType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/UpDownType.html" title="OpenHAB::Core::Types::UpDownType (class)">UpDownType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/ValueCache.html" title="OpenHAB::Core::ValueCache (module)">ValueCache</a></span>
      
      
    </span>
    
    
  </li>

  
  
  

        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../CoreExt.html" title="OpenHAB::CoreExt (module)">CoreExt</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../CoreExt/Between.html" title="OpenHAB::CoreExt::Between (module)">Between</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../CoreExt/Java.html" title="OpenHAB::CoreExt::Java (module)">Java</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/Class.html" title="OpenHAB::CoreExt::Java::Class (class)">Class</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/Duration.html" title="OpenHAB::CoreExt::Java::Duration (class)">Duration</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/LocalDate.html" title="OpenHAB::CoreExt::Java::LocalDate (class)">LocalDate</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/LocalTime.html" title="OpenHAB::CoreExt::Java::LocalTime (class)">LocalTime</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/Month.html" title="OpenHAB::CoreExt::Java::Month (class)">Month</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/MonthDay.html" title="OpenHAB::CoreExt::Java::MonthDay (class)">MonthDay</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/Period.html" title="OpenHAB::CoreExt::Java::Period (class)">Period</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/TemporalAmount.html" title="OpenHAB::CoreExt::Java::TemporalAmount (module)">TemporalAmount</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/Time.html" title="OpenHAB::CoreExt::Java::Time (module)">Time</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/ZonedDateTime.html" title="OpenHAB::CoreExt::Java::ZonedDateTime (class)">ZonedDateTime</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../CoreExt/Ruby.html" title="OpenHAB::CoreExt::Ruby (module)">Ruby</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Ruby/Numeric.html" title="OpenHAB::CoreExt::Ruby::Numeric (module)">Numeric</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Ruby/QuantityTypeConversion.html" title="OpenHAB::CoreExt::Ruby::QuantityTypeConversion (module)">QuantityTypeConversion</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Ruby/Range.html" title="OpenHAB::CoreExt::Ruby::Range (module)">Range</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../DSL.html" title="OpenHAB::DSL (module)">DSL</a></span>
      
      
        <a class="arrow toggle down"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../Events.html" title="OpenHAB::DSL::Events (module)">Events</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Events/WatchEvent.html" title="OpenHAB::DSL::Events::WatchEvent (class)">WatchEvent</a></span>
      
        &lt; Struct
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../Items.html" title="OpenHAB::DSL::Items (module)">Items</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Items/Builder.html" title="OpenHAB::DSL::Items::Builder (module)">Builder</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Items/Ensure.html" title="OpenHAB::DSL::Items::Ensure (module)">Ensure</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../Items/Ensure/Ensurable.html" title="OpenHAB::DSL::Items::Ensure::Ensurable (module)">Ensurable</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../Items/Ensure/Item.html" title="OpenHAB::DSL::Items::Ensure::Item (module)">Item</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Items/GroupItemBuilder.html" title="OpenHAB::DSL::Items::GroupItemBuilder (class)">GroupItemBuilder</a></span>
      
        &lt; ItemBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Items/ItemBuilder.html" title="OpenHAB::DSL::Items::ItemBuilder (class)">ItemBuilder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Items/TimedCommand.html" title="OpenHAB::DSL::Items::TimedCommand (module)">TimedCommand</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../Items/TimedCommand/TimedCommandDetails.html" title="OpenHAB::DSL::Items::TimedCommand::TimedCommandDetails (class)">TimedCommandDetails</a></span>
      
        &lt; Struct
      
      
    </span>
    
    
  </li>

  

        
      </ul>
    
  </li>


        
      </ul>
    
  </li>

  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../Rules.html" title="OpenHAB::DSL::Rules (module)">Rules</a></span>
      
      
        <a class="arrow toggle down"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Builder.html" title="OpenHAB::DSL::Rules::Builder (class)">Builder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link active">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="" title="OpenHAB::DSL::Rules::BuilderDSL (class)">BuilderDSL</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Terse.html" title="OpenHAB::DSL::Rules::Terse (module)">Terse</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../Things.html" title="OpenHAB::DSL::Things (module)">Things</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Things/BridgeBuilder.html" title="OpenHAB::DSL::Things::BridgeBuilder (class)">BridgeBuilder</a></span>
      
        &lt; ThingBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Things/Builder.html" title="OpenHAB::DSL::Things::Builder (class)">Builder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Things/ChannelBuilder.html" title="OpenHAB::DSL::Things::ChannelBuilder (class)">ChannelBuilder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Things/ThingBuilder.html" title="OpenHAB::DSL::Things::ThingBuilder (class)">ThingBuilder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../TimerManager.html" title="OpenHAB::DSL::TimerManager (class)">TimerManager</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../Log.html" title="OpenHAB::Log (module)">Log</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../Logger.html" title="OpenHAB::Logger (class)">Logger</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../OSGi.html" title="OpenHAB::OSGi (module)">OSGi</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../RSpec.html" title="OpenHAB::RSpec (module)">RSpec</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../RSpec/Configuration.html" title="OpenHAB::RSpec::Configuration (module)">Configuration</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../RSpec/ExampleGroup.html" title="OpenHAB::RSpec::ExampleGroup (module)">ExampleGroup</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../RSpec/ExampleGroup/ClassMethods.html" title="OpenHAB::RSpec::ExampleGroup::ClassMethods (module)">ClassMethods</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../RSpec/Helpers.html" title="OpenHAB::RSpec::Helpers (module)">Helpers</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../Transform.html" title="OpenHAB::Transform (module)">Transform</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Array.html" title="Array (class)">Array</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Class.html" title="Class (class)">Class</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Date.html" title="Date (class)">Date</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../DateTime.html" title="DateTime (class)">DateTime</a></span>
      
        &lt; Date
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Enumerable.html" title="Enumerable (module)">Enumerable</a></span>
      
      
    </span>
    
    
  </li>

  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Float.html" title="Float (class)">Float</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Integer.html" title="Integer (class)">Integer</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Numeric.html" title="Numeric (class)">Numeric</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Range.html" title="Range (class)">Range</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Time.html" title="Time (class)">Time</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  

              </ul>
            </section>
          </li>
        </ul>
      </aside>

      <main class="page">
        <div class="content"><h1>Class: OpenHAB::DSL::Rules::BuilderDSL
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'>Object</span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'>Object</span></li>
          
            <li class="next">OpenHAB::DSL::Rules::BuilderDSL</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="../../Core/EntityLookup.html" title="OpenHAB::Core::EntityLookup (module)">Core::EntityLookup</a></span>, <span class='object_link'><a href="../../DSL.html" title="OpenHAB::DSL (module)">OpenHAB::DSL</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/openhab/dsl/rules/builder.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Rule configuration for openHAB Rules engine</p>


  </div>
</div>
<div class="tags">
  

</div>


  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="../../DSL.html" title="OpenHAB::DSL (module)">OpenHAB::DSL</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../DSL.html#VERSION-constant" title="OpenHAB::DSL::VERSION (constant)">VERSION</a></span></p>





  
    <h2 id="Execution-Blocks-group">
      Execution Blocks
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delay-instance_method" title="#delay (instance method)">#<strong>delay</strong>(duration)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Add a wait between or after run blocks.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#otherwise-instance_method" title="#otherwise (instance method)">#<strong>otherwise</strong> {|event| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Add a block that will be passed event data, to be run if guards are not satisfied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run-instance_method" title="#run (instance method)">#<strong>run</strong> {|event| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Add a block that will be passed event data.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#triggered-instance_method" title="#triggered (instance method)">#<strong>triggered</strong> {|item| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Add a block that will be passed the triggering item.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Configuration-group">
      Configuration
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#description-instance_method" title="#description (instance method)">#<strong>description</strong>(value)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set the rule's description.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#enabled-instance_method" title="#enabled (instance method)">#<strong>enabled</strong>(value)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Enable or disable the rule from executing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>(value)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set the rule's name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tags-instance_method" title="#tags (instance method)">#<strong>tags</strong>(tags)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set the rule's tags.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uid-instance_method" title="#uid (instance method)">#<strong>uid</strong>(id)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set the rule's UID.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Guards-group">
      Guards
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <div class="docstring">
  <div class="discussion">
    <p>Guards exist to only permit rules to run if certain conditions are
satisfied. Think of these as declarative <code>if</code> statements that keep
the run block free of conditional logic, although you can of course
still use conditional logic in run blocks if you prefer.</p>
<h3 id="guard-combination"><a href="#guard-combination" class="header-anchor">#</a>Guard Combination</h3>
<p><span class='object_link'><a href="#only_if-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#only_if (method)">OpenHAB::DSL::Rules::BuilderDSL#only_if</a></span> and <span class='object_link'><a href="#not_if-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#not_if (method)">OpenHAB::DSL::Rules::BuilderDSL#not_if</a></span> can be used on the same rule. Both must be
satisfied for a rule to execute.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Set OutsideDimmer to 50% if LightSwitch turned on and OtherSwitch is OFF and Door is CLOSED</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">LightSwitch</span>, <span style="color:#606">to</span>: <span style="color:#036;font-weight:bold">ON</span>
  run { <span style="color:#036;font-weight:bold">OutsideDimmer</span> &lt;&lt; <span style="color:#00D">50</span> }
  only_if { <span style="color:#036;font-weight:bold">Door</span>.closed? }
  not_if { <span style="color:#036;font-weight:bold">OtherSwitch</span>.on? }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>


</div>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#between-instance_method" title="#between (instance method)">#<strong>between</strong>(range)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Only execute rule if current time is between supplied time ranges.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#not_if-instance_method" title="#not_if (instance method)">#<strong>not_if</strong> {|event| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><span class='object_link'><a href="#not_if-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#not_if (method)">#not_if</a></span> prevents execution of rules when the block's result is true and allows it when it's true.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#only_if-instance_method" title="#only_if (instance method)">#<strong>only_if</strong> {|event| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><span class='object_link'><a href="#only_if-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#only_if (method)">#only_if</a></span> allows rule execution when the block's is true and prevents it when it's false.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Triggers-group">
      Triggers
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>The trigger attachment feature is not available for UI rules.</p>
</div>
  </div>

<p>Triggers specify what will cause the execution blocks to run.
Multiple triggers can be defined within the same rule.</p>
<h3 id="trigger-attachments"><a href="#trigger-attachments" class="header-anchor">#</a>Trigger Attachments</h3>
<p>All triggers support event attachments that enable the association
of an object to a trigger. This enables one to use the same rule
and take different actions if the trigger is different. The
attached object is passed to the execution block through the
<span class='object_link'><a href="../../Core/Events/AbstractEvent.html#attachment-instance_method" title="OpenHAB::Core::Events::AbstractEvent#attachment (method)">OpenHAB::Core::Events::AbstractEvent#attachment</a></span> accessor.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Set Dark switch at sunrise and sunset</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">astro:sun:home:rise#event</span><span style="color:#710">'</span></span>, <span style="color:#606">attach</span>: <span style="color:#036;font-weight:bold">OFF</span>
  channel <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">astro:sun:home:set#event</span><span style="color:#710">'</span></span>, <span style="color:#606">attach</span>: <span style="color:#036;font-weight:bold">ON</span>
  run { |event| <span style="color:#036;font-weight:bold">Dark</span> &lt;&lt; event.attachment }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>


</div>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#changed-instance_method" title="#changed (instance method)">#<strong>changed</strong>(*items, to: nil, from: nil, for: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a trigger when an item, member of a group, or a thing changed states.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#channel-instance_method" title="#channel (instance method)">#<strong>channel</strong>(*channels, thing: nil, triggered: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a channel trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#channel_linked-instance_method" title="#channel_linked (instance method)">#<strong>channel_linked</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a channel linked trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#channel_unlinked-instance_method" title="#channel_unlinked (instance method)">#<strong>channel_unlinked</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a channel unlinked trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cron-instance_method" title="#cron (instance method)">#<strong>cron</strong>(expression = nil, attach: nil, **fields)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a cron trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every-instance_method" title="#every (instance method)">#<strong>every</strong>(value, at: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a rule that executes at the specified interval.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_load-instance_method" title="#on_load (instance method)">#<strong>on_load</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a trigger that executes when the script is loaded.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_start-instance_method" title="#on_start (instance method)">#<strong>on_start</strong>(at_level: nil, at_levels: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a trigger that executes when openHAB reaches a certain start level.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#received_command-instance_method" title="#received_command (instance method)">#<strong>received_command</strong>(*items, command: nil, commands: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a trigger for when an item or group receives a command.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#thing_added-instance_method" title="#thing_added (instance method)">#<strong>thing_added</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a thing added trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#thing_removed-instance_method" title="#thing_removed (instance method)">#<strong>thing_removed</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a thing removed trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#thing_updated-instance_method" title="#thing_updated (instance method)">#<strong>thing_updated</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a thing updated trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#trigger-instance_method" title="#trigger (instance method)">#<strong>trigger</strong>(type, attach: nil, **configuration)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a generic trigger given the trigger type uid and a configuration hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#updated-instance_method" title="#updated (instance method)">#<strong>updated</strong>(*items, to: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a trigger when item, group or thing is updated.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#watch-instance_method" title="#watch (instance method)">#<strong>watch</strong>(path, glob: &quot;*&quot;, for: %i[created deleted modified], attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a trigger to watch a path.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Instance Method Summary">
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../DSL.html" title="OpenHAB::DSL (module)">OpenHAB::DSL</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../DSL.html#after-class_method" title="OpenHAB::DSL.after (method)">after</a></span>, <span class='object_link'><a href="../../DSL.html#between-class_method" title="OpenHAB::DSL.between (method)">between</a></span>, <span class='object_link'><a href="../../DSL.html#ensure_states-class_method" title="OpenHAB::DSL.ensure_states (method)">ensure_states</a></span>, <span class='object_link'><a href="../../DSL.html#items-class_method" title="OpenHAB::DSL.items (method)">items</a></span>, <span class='object_link'><a href="../../DSL.html#persistence-class_method" title="OpenHAB::DSL.persistence (method)">persistence</a></span>, <span class='object_link'><a href="../../DSL.html#profile-class_method" title="OpenHAB::DSL.profile (method)">profile</a></span>, <span class='object_link'><a href="../../DSL.html#provider-class_method" title="OpenHAB::DSL.provider (method)">provider</a></span>, <span class='object_link'><a href="../../DSL.html#provider!-class_method" title="OpenHAB::DSL.provider! (method)">provider!</a></span>, <span class='object_link'><a href="../../DSL.html#rule-class_method" title="OpenHAB::DSL.rule (method)">rule</a></span>, <span class='object_link'><a href="../../DSL.html#rules-class_method" title="OpenHAB::DSL.rules (method)">rules</a></span>, <span class='object_link'><a href="../../DSL.html#script-class_method" title="OpenHAB::DSL.script (method)">script</a></span>, <span class='object_link'><a href="../../DSL.html#shared_cache-class_method" title="OpenHAB::DSL.shared_cache (method)">shared_cache</a></span>, <span class='object_link'><a href="../../DSL.html#store_states-class_method" title="OpenHAB::DSL.store_states (method)">store_states</a></span>, <span class='object_link'><a href="../../DSL.html#things-class_method" title="OpenHAB::DSL.things (method)">things</a></span>, <span class='object_link'><a href="../../DSL.html#timers-class_method" title="OpenHAB::DSL.timers (method)">timers</a></span>, <span class='object_link'><a href="../../DSL.html#unit-class_method" title="OpenHAB::DSL.unit (method)">unit</a></span>, <span class='object_link'><a href="../../DSL.html#unit!-class_method" title="OpenHAB::DSL.unit! (method)">unit!</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../Core/EntityLookup.html" title="OpenHAB::Core::EntityLookup (module)">Core::EntityLookup</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../Core/EntityLookup.html#method_missing-instance_method" title="OpenHAB::Core::EntityLookup#method_missing (method)">#method_missing</a></span></p>

  
  
  
  
  
  <div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice super">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <span class='object_link'><a href="../../Core/EntityLookup.html#method_missing-instance_method" title="OpenHAB::Core::EntityLookup#method_missing (method)">OpenHAB::Core::EntityLookup</a></span>
    
  </p>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="between-instance_method">
  
    #<strong>between</strong>(range)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Only execute rule if current time is between supplied time ranges.</p>
<p>If the range is of strings, it will be parsed to an appropriate time class.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Between guard</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">MotionSensor</span>, <span style="color:#606">to</span>: <span style="color:#036;font-weight:bold">OPEN</span>
  between <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">6:05</span><span style="color:#710">&quot;</span></span>..<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">14:05:05</span><span style="color:#710">&quot;</span></span> <span style="color:#777"># Include end</span>
  run { <span style="color:#036;font-weight:bold">Light</span>.on }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Between guard</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">MotionSensor</span>, <span style="color:#606">to</span>: <span style="color:#036;font-weight:bold">OPEN</span>
  between <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">6:05</span><span style="color:#710">&quot;</span></span>..<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">14:05:05</span><span style="color:#710">&quot;</span></span> <span style="color:#777"># Excludes end second</span>
  run { <span style="color:#036;font-weight:bold">Light</span>.on }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Between guard</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">MotionSensor</span>, <span style="color:#606">to</span>: <span style="color:#036;font-weight:bold">OPEN</span>
  between <span style="color:#036;font-weight:bold">LocalTime</span>.of(<span style="color:#00D">6</span>, <span style="color:#00D">5</span>)..<span style="color:#036;font-weight:bold">LocalTime</span>.of(<span style="color:#00D">14</span>, <span style="color:#00D">15</span>, <span style="color:#00D">5</span>)
  run { <span style="color:#036;font-weight:bold">Light</span>.on }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>String of <span class='object_link'><a href="../../CoreExt/Java/LocalTime.html" title="OpenHAB::CoreExt::Java::LocalTime (class)">LocalTime</a></span></p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Log an entry if started between 3:30:04 and midnight using strings</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_load
  run { logger.info (<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Started at </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#036;font-weight:bold">LocalTime</span>.now<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
  between <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">3:30:04</span><span style="color:#710">'</span></span>..<span style="color:#036;font-weight:bold">LocalTime</span>::<span style="color:#036;font-weight:bold">MIDNIGHT</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p><span class='object_link'><a href="../../CoreExt/Java/LocalTime.html" title="OpenHAB::CoreExt::Java::LocalTime (class)">LocalTime</a></span></p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Log an entry if started between 3:30:04 and midnight using LocalTime objects</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_load
  run { logger.info (<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Started at </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#036;font-weight:bold">LocalTime</span>.now<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
  between <span style="color:#036;font-weight:bold">LocalTime</span>.of(<span style="color:#00D">3</span>, <span style="color:#00D">30</span>, <span style="color:#00D">4</span>)..<span style="color:#036;font-weight:bold">LocalTime</span>::<span style="color:#036;font-weight:bold">MIDNIGHT</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>String of <span class='object_link'><a href="../../CoreExt/Java/MonthDay.html" title="OpenHAB::CoreExt::Java::MonthDay (class)">MonthDay</a></span></p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Log an entry if started between March 9th and April 10ths</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_load
  run { logger.info (<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Started at </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#036;font-weight:bold">Time</span>.now<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
  between <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">03-09</span><span style="color:#710">'</span></span>..<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">04-10</span><span style="color:#710">'</span></span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p><span class='object_link'><a href="../../CoreExt/Java/MonthDay.html" title="OpenHAB::CoreExt::Java::MonthDay (class)">MonthDay</a></span></p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Log an entry if started between March 9th and April 10ths</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_load
  run { logger.info (<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Started at </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span><span style="color:#036;font-weight:bold">Time</span>.now<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
  between <span style="color:#036;font-weight:bold">MonthDay</span>.of(<span style="color:#00D">03</span>,<span style="color:#00D">09</span>)..<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">04-06</span><span style="color:#710">'</span></span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>range</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


462</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 462</span>

prop <span style="color:#A60">:between</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="changed-instance_method">
  
    #<strong>changed</strong>(*items, to: nil, from: nil, for: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a trigger when an item, member of a group, or a thing changed
states.</p>
<p>When the changed element is a <span class='object_link'><a href="../../Core/Things/Thing.html" title="OpenHAB::Core::Things::Thing (module)">Thing</a></span>, the <code>from</code>
and <code>to</code> values will accept symbols and strings, where the symbol'
matches the
<a href="https://www.openhab.org/docs/concepts/things.html#thing-status">supported status</a>.</p>
<p>The <code>event</code> passed to run blocks will be an
<span class='object_link'><a href="../../Core/Events/ItemStateChangedEvent.html" title="OpenHAB::Core::Events::ItemStateChangedEvent (class)">Core::Events::ItemStateChangedEvent</a></span> or a
<span class='object_link'><a href="../../Core/Events/ThingStatusInfoChangedEvent.html" title="OpenHAB::Core::Events::ThingStatusInfoChangedEvent (class)">Core::Events::ThingStatusInfoChangedEvent</a></span> depending on if the
triggering element was an item or a thing.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Multiple items can be separated with a comma:</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when either sensor changed</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">FrontMotion_Sensor</span>, <span style="color:#036;font-weight:bold">RearMotion_Sensor</span>
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Motion detected by </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Group member trigger</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when member changed</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">Sensors</span>.members
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Motion detected by </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p><code>for</code> parameter can be a proc too:</p>
</div></p>
      
      <pre class="example code"><code><span style="color:#036;font-weight:bold">Alarm_Delay</span> &lt;&lt; <span style="color:#00D">20</span>

rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when item is changed for specified duration</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">for</span>: -&gt; { <span style="color:#036;font-weight:bold">Alarm_Delay</span>.state }
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Alarm Mode Updated</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>You can optionally provide <code>from</code> and <code>to</code> states to restrict the cases in which the rule executes:</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when item is changed to specific number, from specific number, for specified duration</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">from</span>: <span style="color:#00D">8</span>, <span style="color:#606">to</span>: [<span style="color:#00D">14</span>,<span style="color:#00D">12</span>], <span style="color:#606">for</span>: <span style="color:#00D">12</span>.seconds
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Alarm Mode Updated</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with ranges:</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute when item changed to a range of numbers, from a range of numbers, for specified duration</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">from</span>: <span style="color:#00D">8</span>..<span style="color:#00D">10</span>, <span style="color:#606">to</span>: <span style="color:#00D">12</span>..<span style="color:#00D">14</span>, <span style="color:#606">for</span>: <span style="color:#00D">12</span>.seconds
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Alarm Mode Updated</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with endless ranges:</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when item is changed to any number greater than 12</span><span style="color:#710">&quot;</span></span>
  changed <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">to</span>: (<span style="color:#00D">12</span>..)   <span style="color:#777"># Parenthesis required for endless ranges</span>
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Alarm Mode Updated</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with procs:</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute when item state is changed from an odd number, to an even number, for specified duration</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">from</span>: proc { |from| from.odd? }, <span style="color:#606">to</span>: proc {|to| to.even? }, <span style="color:#606">for</span>: <span style="color:#00D">12</span>.seconds
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Alarm Mode Updated</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with lambdas:</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute when item state is changed from an odd number, to an even number, for specified duration</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">from</span>: -&gt; from { from.odd? }, <span style="color:#606">to</span>: -&gt; to { to.even? }, <span style="color:#606">for</span>: <span style="color:#00D">12</span>.seconds
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Alarm Mode Updated</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with Things:</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when thing is changed</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed things[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">astro:sun:home</span><span style="color:#710">&quot;</span></span>], <span style="color:#A60">:from</span> =&gt; <span style="color:#A60">:online</span>, <span style="color:#A60">:to</span> =&gt; <span style="color:#A60">:uninitialized</span>
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Thing </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.uid<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> status &lt;trigger&gt; to </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.status<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Real World Example</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Log (or notify) when an exterior door is left open for more than 5 minutes</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">ExteriorDoors</span>.members, <span style="color:#606">to</span>: <span style="color:#036;font-weight:bold">OPEN</span>, <span style="color:#606">for</span>: <span style="color:#00D">5</span>.minutes
  triggered {|door| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>door.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> has been left open!</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>items</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span></tt>, <tt><span class='object_link'><a href="../../Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">GroupItem::Members</a></span></tt>, <tt>Thing</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Objects to create trigger for.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>from</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span></tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span>&gt;</tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>, <tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Only execute rule if previous state matches <code>from</code> state(s).</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>to</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span></tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span>&gt;</tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>, <tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>State(s) for
Only execute rule if new state matches <code>to</code> state(s).</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>for</span>
      
      
        <span class='type'>(<tt><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/temporal/TemporalAmount.html" target="_parent" title="java.time.temporal.TemporalAmount">java.time.temporal.TemporalAmount</a></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Duration item must remain in the same state before executing the execution blocks.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 795</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">changed</span>(*items, <span style="color:#606">to</span>: <span style="color:#069">nil</span>, <span style="color:#606">from</span>: <span style="color:#069">nil</span>, <span style="color:#606">for</span>: <span style="color:#069">nil</span>, <span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  changed = <span style="color:#036;font-weight:bold">Changed</span>.new(<span style="color:#606">rule_triggers</span>: <span style="color:#33B">@rule_triggers</span>)
  <span style="color:#777"># for is a reserved word in ruby, so use local_variable_get :for</span>
  duration = binding.local_variable_get(<span style="color:#A60">:for</span>)

  <span style="color:#33B">@ruby_triggers</span> &lt;&lt; [<span style="color:#A60">:changed</span>, items, { <span style="color:#606">to</span>: to, <span style="color:#606">from</span>: from, <span style="color:#606">duration</span>: duration }]

  from = [<span style="color:#069">nil</span>] <span style="color:#080;font-weight:bold">if</span> from.nil?
  to = [<span style="color:#069">nil</span>] <span style="color:#080;font-weight:bold">if</span> to.nil?
  items.each <span style="color:#080;font-weight:bold">do</span> |item|
    <span style="color:#080;font-weight:bold">case</span> item
    <span style="color:#080;font-weight:bold">when</span> <span style="color:#036;font-weight:bold">Core</span>::<span style="color:#036;font-weight:bold">Things</span>::<span style="color:#036;font-weight:bold">Thing</span>,
         <span style="color:#036;font-weight:bold">Core</span>::<span style="color:#036;font-weight:bold">Things</span>::<span style="color:#036;font-weight:bold">ThingUID</span>,
         <span style="color:#036;font-weight:bold">Core</span>::<span style="color:#036;font-weight:bold">Items</span>::<span style="color:#036;font-weight:bold">Item</span>,
         <span style="color:#036;font-weight:bold">Core</span>::<span style="color:#036;font-weight:bold">Items</span>::<span style="color:#036;font-weight:bold">GroupItem</span>::<span style="color:#036;font-weight:bold">Members</span>
      <span style="color:#069">nil</span>
    <span style="color:#080;font-weight:bold">else</span>
      raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">items must be an Item, GroupItem::Members, Thing, or ThingUID</span><span style="color:#710">&quot;</span></span>
    <span style="color:#080;font-weight:bold">end</span>

    logger.trace(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Creating changed trigger for entity(</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">), to(</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>to.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">), from(</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>from.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">)</span><span style="color:#710">&quot;</span></span>)

    <span style="color:#036;font-weight:bold">Array</span>.wrap(from).each <span style="color:#080;font-weight:bold">do</span> |from_state|
      <span style="color:#036;font-weight:bold">Array</span>.wrap(to).each <span style="color:#080;font-weight:bold">do</span> |to_state|
        changed.trigger(<span style="color:#606">item</span>: item, <span style="color:#606">from</span>: from_state, <span style="color:#606">to</span>: to_state, <span style="color:#606">duration</span>: duration, <span style="color:#606">attach</span>: attach)
      <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="channel-instance_method">
  
    #<strong>channel</strong>(*channels, thing: nil, triggered: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a channel trigger</p>
<p>The channel trigger executes rule when a specific channel is triggered. The syntax
supports one or more channels with one or more triggers. <code>thing</code> is an optional
parameter that makes it easier to set triggers on multiple channels on the same thing.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when channel is triggered</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">astro:sun:home:rise#event</span><span style="color:#710">&quot;</span></span>
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Channel triggered</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span>
<span style="color:#777"># The above is the same as each of the below</span>

rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when channel is triggered</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rise#event</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">thing</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">astro:sun:home</span><span style="color:#710">&quot;</span></span>
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Channel triggered</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span>

rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when channel is triggered</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rise#event</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">thing</span>: things[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">astro:sun:home</span><span style="color:#710">&quot;</span></span>]
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Channel triggered</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span>

rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when channel is triggered</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rise#event</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">thing</span>: things[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">astro:sun:home</span><span style="color:#710">&quot;</span></span>].uid
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Channel triggered</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span>

rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when channel is triggered</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rise#event</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">thing</span>: [<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">astro:sun:home</span><span style="color:#710">&quot;</span></span>]
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Channel triggered</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span>

rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when channel is triggered</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel things[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">astro:sun:home</span><span style="color:#710">&quot;</span></span>].channels[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rise#event</span><span style="color:#710">&quot;</span></span>]
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Channel triggered</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span>

rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Execute rule when channel is triggered</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel things[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">astro:sun:home</span><span style="color:#710">&quot;</span></span>].channels[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rise#event</span><span style="color:#710">&quot;</span></span>].uid
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Channel triggered</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Rule provides access to channel trigger events in run block</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">astro:sun:home:rise#event</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">triggered</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">START</span><span style="color:#710">'</span></span>
  run { |trigger| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Channel(</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>trigger.channel<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">) triggered event: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>trigger.event<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Keypad Code Received test</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">mqtt:homie300:mosquitto:backgate:keypad#code</span><span style="color:#710">&quot;</span></span>
  run <span style="color:#080;font-weight:bold">do</span> |event|
    logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Received keycode from </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.channel.thing.uid.id<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Rules support multiple channels</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rise#event</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">set#event</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">thing</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">astro:sun:home</span><span style="color:#710">&quot;</span></span>
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Channel triggered</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Rules support multiple channels and triggers</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rise#event</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">set#event</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">thing</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">astro:sun:home</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">triggered</span>: [<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">START</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">STOP</span><span style="color:#710">&quot;</span></span>]
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Channel triggered</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Rules support multiple things</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">keypad#code</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">thing</span>: [<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">mqtt:homie300:keypad1</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">mqtt:homie300:keypad2</span><span style="color:#710">&quot;</span></span>]
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Channel triggered</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>channels</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../../Core/Things/Channel.html" title="OpenHAB::Core::Things::Channel (class)">Core::Things::Channel</a></span></tt>, <tt><span class='object_link'><a href="../../Core/Things/ChannelUID.html" title="OpenHAB::Core::Things::ChannelUID (class)">Core::Things::ChannelUID</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>channels to create triggers for in form of 'binding_id:type_id:thing_id#channel_id'
or 'channel_id' if thing is provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>thing</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../../Core/Things/Thing.html" title="OpenHAB::Core::Things::Thing (module)">Core::Things::Thing</a></span></tt>, <tt><a href="https://www.openhab.org/javadoc/latest/org/openhab/core/thing/ThingUID.html" target="_parent" title="Core::Things::ThingUID">Core::Things::ThingUID</a></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Thing(s) to create trigger for if not specified with the channel.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>triggered</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;String&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Only execute rule if the event on the channel matches this/these event/events.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


656
657
658
659
660
661
662
663
664
665
666</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 656</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">channel</span>(*channels, <span style="color:#606">thing</span>: <span style="color:#069">nil</span>, <span style="color:#606">triggered</span>: <span style="color:#069">nil</span>, <span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  channel_trigger = <span style="color:#036;font-weight:bold">Channel</span>.new(<span style="color:#606">rule_triggers</span>: <span style="color:#33B">@rule_triggers</span>)
  flattened_channels = <span style="color:#036;font-weight:bold">Channel</span>.channels(<span style="color:#606">channels</span>: channels, <span style="color:#606">thing</span>: thing)
  triggers = [triggered].flatten
  <span style="color:#33B">@ruby_triggers</span> &lt;&lt; [<span style="color:#A60">:channel</span>, flattened_channels, { <span style="color:#606">triggers</span>: triggers }]
  flattened_channels.each <span style="color:#080;font-weight:bold">do</span> |channel|
    triggers.each <span style="color:#080;font-weight:bold">do</span> |trigger|
      channel_trigger.trigger(<span style="color:#606">channel</span>: channel, <span style="color:#606">trigger</span>: trigger, <span style="color:#606">attach</span>: attach)
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="channel_linked-instance_method">
  
    #<strong>channel_linked</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a channel linked trigger</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">channel linked</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel_linked
  run <span style="color:#080;font-weight:bold">do</span> |event|
    logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.link.item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> linked to </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.link.channel_uid<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">.</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


681
682
683
684
685</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 681</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">channel_linked</span>(<span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  <span style="color:#33B">@ruby_triggers</span> &lt;&lt; [<span style="color:#A60">:channel_linked</span>]
  trigger(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">core.GenericEventTrigger</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">eventTopic</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">openhab/links/*/added</span><span style="color:#710">&quot;</span></span>,
                                      <span style="color:#606">eventTypes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ItemChannelLinkAddedEvent</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">attach</span>: attach)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="channel_unlinked-instance_method">
  
    #<strong>channel_unlinked</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a channel unlinked trigger</p>
<p>Note that the item or the thing it's linked to may no longer exist,
so if you try to access those objects they'll be nil.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">channel unlinked</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  channel_unlinked
  run <span style="color:#080;font-weight:bold">do</span> |event|
    logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.link.item_name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> unlinked from </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.link.channel_uid<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">.</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


703
704
705
706
707</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 703</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">channel_unlinked</span>(<span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  <span style="color:#33B">@ruby_triggers</span> &lt;&lt; [<span style="color:#A60">:channel_linked</span>]
  trigger(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">core.GenericEventTrigger</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">eventTopic</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">openhab/links/*/removed</span><span style="color:#710">&quot;</span></span>,
                                      <span style="color:#606">eventTypes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ItemChannelLinkRemovedEvent</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">attach</span>: attach)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cron-instance_method">
  
    
      <span class="overload">#<strong>cron</strong>(expression, attach: nil)  &#x21d2; <tt>void</tt> </span>
    
      <span class="overload">#<strong>cron</strong>(second: nil, minute: nil, hour: nil, dom: nil, month: nil, dow: nil, year: nil, attach: nil)  &#x21d2; <tt>void</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Create a cron trigger</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>cron</strong>(expression, attach: nil)  &#x21d2; <tt>void</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Using a cron expression</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">cron expression</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  cron <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">43 46 13 ? * ?</span><span style="color:#710">&quot;</span></span>
  run { <span style="color:#036;font-weight:bold">Light</span>.on }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>expression</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><a href="https://www.openhab.org/docs/configuration/rules-dsl.html#time-based-triggers">openHAB style cron expression</a></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>cron</strong>(second: nil, minute: nil, hour: nil, dom: nil, month: nil, dow: nil, year: nil, attach: nil)  &#x21d2; <tt>void</tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>The trigger can be created by specifying each field as keyword arguments.
Omitted fields will default to <code>*</code> or <code>?</code> as appropriate.</p>
<p>Each field is optional, but at least one must be specified.</p>
<p>The same rules for the standard
<a href="https://www.quartz-scheduler.org/documentation/quartz-2.2.2/tutorials/tutorial-lesson-06.html">cron expression</a>
apply for each field. For example, multiple values can be separated
with a comma within a string.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span style="color:#777"># Run every 3 minutes on Monday to Friday</span>
<span style="color:#777"># equivalent to the cron expression &quot;0 */3 * ? * MON-FRI *&quot;</span>
rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Using cron fields</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  cron <span style="color:#606">second</span>: <span style="color:#00D">0</span>, <span style="color:#606">minute</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">*/3</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">dow</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">MON-FRI</span><span style="color:#710">&quot;</span></span>
  run { logger.info <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Cron rule executed</span><span style="color:#710">&quot;</span></span> }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>second</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>minute</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>hour</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>dom</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>month</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>dow</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>year</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div>
      </li>
    
  </ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


867
868
869
870
871
872
873
874
875
876
877
878
879</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 867</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">cron</span>(expression = <span style="color:#069">nil</span>, <span style="color:#606">attach</span>: <span style="color:#069">nil</span>, **fields)
  <span style="color:#080;font-weight:bold">if</span> fields.any?
    raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Cron elements cannot be used with a cron expression</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> expression

    cron_expression = <span style="color:#036;font-weight:bold">Cron</span>.from_fields(fields)
    <span style="color:#080;font-weight:bold">return</span> cron(cron_expression, <span style="color:#606">attach</span>: attach)
  <span style="color:#080;font-weight:bold">end</span>

  raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Missing cron expression or elements</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> expression

  cron = <span style="color:#036;font-weight:bold">Cron</span>.new(<span style="color:#606">rule_triggers</span>: <span style="color:#33B">@rule_triggers</span>)
  cron.trigger(<span style="color:#606">config</span>: { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">cronExpression</span><span style="color:#710">&quot;</span></span> =&gt; expression }, <span style="color:#606">attach</span>: attach)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delay-instance_method">
  
    #<strong>delay</strong>(duration)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Add a wait between or after run blocks.</p>
<p>The delay property is a non thread-blocking element that is executed
after, before, or between run blocks.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">delay execution</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">MotionSensor</span>, <span style="color:#606">to</span>: <span style="color:#036;font-weight:bold">CLOSED</span>
  delay <span style="color:#00D">5</span>.seconds
  run { <span style="color:#036;font-weight:bold">Light</span>.off }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Delay sleeps between execution elements</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_load
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Sleeping</span><span style="color:#710">&quot;</span></span>) }
  delay <span style="color:#00D">5</span>.seconds
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Awake</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Like other execution blocks, multiple can exist in a single rule.</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Multiple delays can exist in a rule</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_load
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Sleeping</span><span style="color:#710">&quot;</span></span>) }
  delay <span style="color:#00D">5</span>.seconds
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Sleeping Again</span><span style="color:#710">&quot;</span></span>) }
  delay <span style="color:#00D">5</span>.seconds
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Awake</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>You can use Ruby code in your rule across multiple execution blocks like a run and a delay.</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Dim a switch on system startup over 100 seconds</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_load
  <span style="color:#00D">100</span>.times <span style="color:#080;font-weight:bold">do</span>
    run { <span style="color:#036;font-weight:bold">DimmerSwitch</span>.dim }
    delay <span style="color:#00D">1</span>.second
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>duration</span>
      
      
        <span class='type'>(<tt><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/temporal/TemporalAmount.html" target="_parent" title="java.time.temporal.TemporalAmount">java.time.temporal.TemporalAmount</a></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>How long to delay for.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


295</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 295</span>

prop_array <span style="color:#A60">:delay</span>, <span style="color:#606">array_name</span>: <span style="color:#A60">:run_queue</span>, <span style="color:#606">wrapper</span>: <span style="color:#036;font-weight:bold">Delay</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="description-instance_method">
  
    #<strong>description</strong>(value)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Set the rule's description.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


351</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 351</span>

prop <span style="color:#A60">:description</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="enabled-instance_method">
  
    #<strong>enabled</strong>(value)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Enable or disable the rule from executing</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">disabled rule</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  enabled(<span style="color:#069">false</span>)
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


381</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 381</span>

prop <span style="color:#A60">:enabled</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every-instance_method">
  
    #<strong>every</strong>(value, at: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Create a rule that executes at the specified interval.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Daily</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  every <span style="color:#A60">:day</span>, <span style="color:#606">at</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">5:15</span><span style="color:#710">'</span></span>
  run <span style="color:#080;font-weight:bold">do</span>
    <span style="color:#036;font-weight:bold">Light</span>.on
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>The above rule could also be expressed using LocalTime class as below</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Daily</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  every <span style="color:#A60">:day</span>, <span style="color:#606">at</span>: <span style="color:#036;font-weight:bold">LocalTime</span>.of(<span style="color:#00D">5</span>, <span style="color:#00D">15</span>)
  run { <span style="color:#036;font-weight:bold">Light</span>.on }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Weekly</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  every <span style="color:#A60">:monday</span>, <span style="color:#606">at</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">5:15</span><span style="color:#710">'</span></span>
  run <span style="color:#080;font-weight:bold">do</span>
    <span style="color:#036;font-weight:bold">Light</span>.on
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Often</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  every <span style="color:#A60">:minute</span>
  run <span style="color:#080;font-weight:bold">do</span>
    <span style="color:#036;font-weight:bold">Light</span>.on
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Hourly</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  every <span style="color:#A60">:hour</span>
  run <span style="color:#080;font-weight:bold">do</span>
    <span style="color:#036;font-weight:bold">Light</span>.on
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Often</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  every <span style="color:#00D">5</span>.minutes
  run <span style="color:#080;font-weight:bold">do</span>
    <span style="color:#036;font-weight:bold">Light</span>.on
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Every 14th of Feb at 2pm</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  every <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">02-14</span><span style="color:#710">'</span></span>, <span style="color:#606">at</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">2pm</span><span style="color:#710">'</span></span>
  run { logger.info <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Happy Valentine's Day!</span><span style="color:#710">&quot;</span></span> }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../../CoreExt/Java/Duration.html" title="OpenHAB::CoreExt::Java::Duration (class)">Duration</a></span></tt>, <tt><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/MonthDay.html" target="_parent" title="java.time.MonthDay">java.time.MonthDay</a></tt>, <tt>:second</tt>, <tt>:minute</tt>, <tt>:hour</tt>, <tt>:day</tt>, <tt>:week</tt>, <tt>:month</tt>, <tt>:year</tt>, <tt>:monday</tt>, <tt>:tuesday</tt>, <tt>:wednesday</tt>, <tt>:thursday</tt>, <tt>:friday</tt>, <tt>:saturday</tt>, <tt>:sunday</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When to execute rule.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>at</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../CoreExt/Java/LocalTime.html" title="OpenHAB::CoreExt::Java::LocalTime (class)">LocalTime</a></span></tt>, <tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>What time of day to execute rule</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


958
959
960
961
962
963
964
965
966
967
968
969
970</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 958</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">every</span>(value, <span style="color:#606">at</span>: <span style="color:#069">nil</span>, <span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  <span style="color:#080;font-weight:bold">return</span> every(java.time.MonthDay.parse(value), <span style="color:#606">at</span>: at, <span style="color:#606">attach</span>: attach) <span style="color:#080;font-weight:bold">if</span> value.is_a?(<span style="color:#036;font-weight:bold">String</span>)

  <span style="color:#33B">@ruby_triggers</span> &lt;&lt; [<span style="color:#A60">:every</span>, value, { <span style="color:#606">at</span>: at }]

  cron_expression = <span style="color:#080;font-weight:bold">case</span> value
                    <span style="color:#080;font-weight:bold">when</span> <span style="color:#036;font-weight:bold">Symbol</span> <span style="color:#080;font-weight:bold">then</span> <span style="color:#036;font-weight:bold">Cron</span>.from_symbol(value, at)
                    <span style="color:#080;font-weight:bold">when</span> <span style="color:#036;font-weight:bold">Duration</span> <span style="color:#080;font-weight:bold">then</span> <span style="color:#036;font-weight:bold">Cron</span>.from_duration(value, at)
                    <span style="color:#080;font-weight:bold">when</span> java.time.MonthDay <span style="color:#080;font-weight:bold">then</span> <span style="color:#036;font-weight:bold">Cron</span>.from_monthday(value, at)
                    <span style="color:#080;font-weight:bold">else</span> raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Unknown interval</span><span style="color:#710">&quot;</span></span>
                    <span style="color:#080;font-weight:bold">end</span>
  cron(cron_expression, <span style="color:#606">attach</span>: attach)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    #<strong>inspect</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1443
1444
1445
1446
1447
1448
1449
1450
1451
1452
1453
1454</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1443</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">inspect</span>
  <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&lt;&lt;~TEXT</span></span>.tr(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\n</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20"> </span><span style="color:#710">&quot;</span></span>)<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">
    #&lt;OpenHAB::DSL::Rules::Builder: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>uid<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">
    triggers=</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>triggers.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">,
    run blocks=</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>run.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">,
    on_load=</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>!<span style="color:#33B">@on_load_id</span>.nil?<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">,
    Trigger Conditions=</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>trigger_conditions.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">,
    Trigger UIDs=</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>triggers.map(&amp;<span style="color:#A60">:id</span>).inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">,
    Attachments=</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>attachments.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">
    &gt;</span><span style="color:#710">
  TEXT</span></span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    #<strong>name</strong>(value)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Set the rule's name.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


341</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 341</span>

prop <span style="color:#A60">:name</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="not_if-instance_method">
  
    #<strong>not_if</strong> {|event| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p><span class='object_link'><a href="#not_if-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#not_if (method)">#not_if</a></span> prevents execution of rules when the block's result is true and allows it when it's true.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Set OutsideDimmer to 50% if LightSwtich turned on and OtherSwitch is OFF</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">LightSwitch</span>, <span style="color:#606">to</span>: <span style="color:#036;font-weight:bold">ON</span>
  run { <span style="color:#036;font-weight:bold">OutsideDimmer</span> &lt;&lt; <span style="color:#00D">50</span> }
  not_if { <span style="color:#036;font-weight:bold">OtherSwitch</span>.on? }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Multiple <span class='object_link'><a href="#not_if-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#not_if (method)">#not_if</a></span> statements can be used and if <strong>any</strong> of them are not satisfied the rule will not run.</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Set OutsideDimmer to 50% if LightSwitch turned on and OtherSwitch is OFF and Door is not CLOSED</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">LightSwitch</span>, <span style="color:#606">to</span>: <span style="color:#036;font-weight:bold">ON</span>
  run { <span style="color:#036;font-weight:bold">OutsideDimmer</span> &lt;&lt; <span style="color:#00D">50</span> }
  not_if { <span style="color:#036;font-weight:bold">OtherSwitch</span>.on? }
  not_if { <span style="color:#036;font-weight:bold">Door</span>.closed? }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>event</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Events/AbstractEvent.html" title="OpenHAB::Core::Events::AbstractEvent (class)">Core::Events::AbstractEvent</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The event data that is about to trigger the rule.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A value indicating if the rule should <em>not</em> run.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


525
526
527
528
529</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 525</span>

prop_array(<span style="color:#A60">:not_if</span>) <span style="color:#080;font-weight:bold">do</span> |item|
  <span style="color:#080;font-weight:bold">unless</span> item.is_a?(<span style="color:#036;font-weight:bold">Proc</span>) || [item].flatten.all? { |it| it.respond_to?(<span style="color:#A60">:truthy?</span>) }
    raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Object passed to not_if must be a proc</span><span style="color:#710">&quot;</span></span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_load-instance_method">
  
    #<strong>on_load</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a trigger that executes when the script is loaded</p>
<p>Execute the rule whenever the script is first loaded, including on openHAB start up,
and on subsequent reloads on file modifications.
This is useful to perform initialization routines, especially when combined with other triggers.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">script startup rule</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_load
  run <span style="color:#080;font-weight:bold">do</span>
    &lt;calculate some item state&gt;
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Ensure all security lights are on</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_load
  run { <span style="color:#036;font-weight:bold">Security_Lights</span>.on }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


996
997
998
999
1000
1001
1002</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 996</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">on_load</span>(<span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  <span style="color:#777"># prevent overwriting @on_load_id</span>
  raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">on_load can only be used once within a rule</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> <span style="color:#33B">@on_load_id</span>

  <span style="color:#33B">@on_load_id</span> = <span style="color:#036;font-weight:bold">SecureRandom</span>.uuid
  attachments[<span style="color:#33B">@on_load_id</span>] = attach
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_start-instance_method">
  
    #<strong>on_start</strong>(at_level: nil, at_levels: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a trigger that executes when openHAB reaches a certain start level</p>
<p>This will only trigger once during openHAB start up. It won't trigger on script reloads.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Trigger at openHAB system start</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_start <span style="color:#777"># trigger at the default startlevel 100</span>
  run { logger.info <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">openHAB start up complete.</span><span style="color:#710">&quot;</span></span> }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Trigger at a specific start level</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Trigger after things are loaded</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_start <span style="color:#606">at_level</span>: <span style="color:#A60">:things</span>
  run { logger.info <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Things are ready!</span><span style="color:#710">&quot;</span></span> }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Trigger at multiple levels</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Multiple start up triggers</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_start <span style="color:#606">at_levels</span>: <span style="color:#A60"><span style="color:#740">%i[</span><span style="color:#A60">ui things complete</span><span style="color:#740">]</span></span>
  run <span style="color:#080;font-weight:bold">do</span> |event|
    logger.info <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">openHAB startlevel has reached level </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.startlevel<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>at_level</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>:rules</tt>, <tt>:ruleengine</tt>, <tt>:ui</tt>, <tt>:things</tt>, <tt>:complete</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Zero or more start levels. Note that Startlevels less than 40 are not available as triggers
because the rule engine needs to start up first before it can execute any rules</p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Start Level</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:osgi</code></td>
<td>10</td>
</tr>
<tr>
<td><code>:model</code></td>
<td>20</td>
</tr>
<tr>
<td><code>:state</code></td>
<td>30</td>
</tr>
<tr>
<td><code>:rules</code></td>
<td>40</td>
</tr>
<tr>
<td><code>:ruleengine</code></td>
<td>50</td>
</tr>
<tr>
<td><code>:ui</code></td>
<td>70</td>
</tr>
<tr>
<td><code>:things</code></td>
<td>80</td>
</tr>
<tr>
<td><code>:complete</code></td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>at_levels</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span>,:rules,:ruleengine,:ui,:things,:complete&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Fluent alias for <code>at_level</code></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://www.openhab.org/docs/configuration/rules-dsl.html#system-based-triggers" target="_parent" title="System based triggers">System based triggers</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1049
1050
1051
1052
1053
1054
1055
1056
1057
1058
1059
1060
1061
1062
1063
1064
1065
1066
1067
1068
1069
1070
1071
1072</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1049</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">on_start</span>(<span style="color:#606">at_level</span>: <span style="color:#069">nil</span>, <span style="color:#606">at_levels</span>: <span style="color:#069">nil</span>, <span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  levels = <span style="color:#036;font-weight:bold">Array</span>.wrap(at_level) | <span style="color:#036;font-weight:bold">Array</span>.wrap(at_levels)
  levels = [<span style="color:#00D">100</span>] <span style="color:#080;font-weight:bold">if</span> levels.empty?

  levels.map! <span style="color:#080;font-weight:bold">do</span> |level|
    <span style="color:#080;font-weight:bold">next</span> level <span style="color:#080;font-weight:bold">unless</span> level.is_a?(<span style="color:#036;font-weight:bold">Symbol</span>)

    <span style="color:#080;font-weight:bold">begin</span>
      klass = org.openhab.core.service.StartLevelService.java_class
      klass.declared_field(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">STARTLEVEL_</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>level.upcase<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>).get_int(klass)
    <span style="color:#080;font-weight:bold">rescue</span> java.lang.NoSuchFieldException
      raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Invalid symbol for at_level: :</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>level<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>

  <span style="color:#33B">@ruby_triggers</span> &lt;&lt; [<span style="color:#A60">:on_start</span>, levels]
  levels.each <span style="color:#080;font-weight:bold">do</span> |level|
    logger.warn <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Rule engine doesn't start until start level 40</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> level &lt; <span style="color:#00D">40</span>
    config = { <span style="color:#606">startlevel</span>: level }
    logger.trace(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Creating a SystemStartlevelTrigger with startlevel=</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>level<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)
    <span style="color:#036;font-weight:bold">Triggers</span>::<span style="color:#036;font-weight:bold">Trigger</span>.new(<span style="color:#606">rule_triggers</span>: <span style="color:#33B">@rule_triggers</span>)
                     .append_trigger(<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">core.SystemStartlevelTrigger</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">config</span>: config, <span style="color:#606">attach</span>: attach)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="only_if-instance_method">
  
    #<strong>only_if</strong> {|event| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p><span class='object_link'><a href="#only_if-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#only_if (method)">#only_if</a></span> allows rule execution when the block's is true and prevents it when it's false.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Set OutsideDimmer to 50% if LightSwitch turned on and OtherSwitch is also ON</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">LightSwitch</span>, <span style="color:#606">to</span>: <span style="color:#036;font-weight:bold">ON</span>
  run { <span style="color:#036;font-weight:bold">OutsideDimmer</span> &lt;&lt; <span style="color:#00D">50</span> }
  only_if { <span style="color:#036;font-weight:bold">OtherSwitch</span>.on? }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Multiple <span class='object_link'><a href="#only_if-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#only_if (method)">#only_if</a></span> statements can be used and <em>all</em> must be true for the rule to run.</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Set OutsideDimmer to 50% if LightSwitch turned on and OtherSwitch is also ON and Door is closed</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">LightSwitch</span>, <span style="color:#606">to</span>: <span style="color:#036;font-weight:bold">ON</span>
  run { <span style="color:#036;font-weight:bold">OutsideDimmer</span> &lt;&lt; <span style="color:#00D">50</span> }
  only_if { <span style="color:#036;font-weight:bold">OtherSwitch</span>.on? }
  only_if { <span style="color:#036;font-weight:bold">Door</span>.closed? }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Guards have access to event information.</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Set OutsideDimmer to 50% if any switch in group Switches starting with Outside is switched On</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">Switches</span>.items, <span style="color:#606">to</span>: <span style="color:#036;font-weight:bold">ON</span>
  run { <span style="color:#036;font-weight:bold">OutsideDimmer</span> &lt;&lt; <span style="color:#00D">50</span> }
  only_if { |event| event.item.name.start_with?(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Outside</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>event</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Events/AbstractEvent.html" title="OpenHAB::Core::Events::AbstractEvent (class)">Core::Events::AbstractEvent</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The event data that is about to trigger the rule.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A value indicating if the rule should run.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


495
496
497
498
499</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 495</span>

prop_array(<span style="color:#A60">:only_if</span>) <span style="color:#080;font-weight:bold">do</span> |item|
  <span style="color:#080;font-weight:bold">unless</span> item.is_a?(<span style="color:#036;font-weight:bold">Proc</span>) || [item].flatten.all? { |it| it.respond_to?(<span style="color:#A60">:truthy?</span>) }
    raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Object passed to only_if must be a proc</span><span style="color:#710">&quot;</span></span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="otherwise-instance_method">
  
    #<strong>otherwise</strong> {|event| ... } &#x21d2; <tt><span class='object_link'>Object</span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Add a block that will be passed event data, to be run if guards are
not satisfied.</p>
<p>The <span class='object_link'><a href="#otherwise-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#otherwise (method)">#otherwise</a></span> property is the automation code that is executed when
a rule is triggered and guards are not satisfied.  This property
accepts a block of code and executes it. The block is automatically
passed an event object which can be used to access multiple
properties about the triggering event.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Turn switch ON or OFF based on value of another switch</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  on_load
  run { <span style="color:#036;font-weight:bold">TestSwitch</span> &lt;&lt; <span style="color:#036;font-weight:bold">ON</span> }
  otherwise { <span style="color:#036;font-weight:bold">TestSwitch</span> &lt;&lt; <span style="color:#036;font-weight:bold">OFF</span> }
  only_if { <span style="color:#036;font-weight:bold">OtherSwitch</span>.on? }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>event</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Events/AbstractEvent.html" title="OpenHAB::Core::Events::AbstractEvent (class)">Core::Events::AbstractEvent</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


319</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 319</span>

prop_array <span style="color:#A60">:otherwise</span>, <span style="color:#606">array_name</span>: <span style="color:#A60">:run_queue</span>, <span style="color:#606">wrapper</span>: <span style="color:#036;font-weight:bold">Otherwise</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="received_command-instance_method">
  
    #<strong>received_command</strong>(*items, command: nil, commands: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a trigger for when an item or group receives a command.</p>
<p>The command/commands parameters are replicated for DSL fluency.</p>
<p>The <code>event</code> passed to run blocks will be an
<span class='object_link'><a href="../../Core/Events/ItemCommandEvent.html" title="OpenHAB::Core::Events::ItemCommandEvent (class)">Core::Events::ItemCommandEvent</a></span>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when item received command</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  received_command <span style="color:#036;font-weight:bold">Alarm_Mode</span>
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Item received command: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.command<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span> ) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when item receives specific command</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  received_command <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">command</span>: <span style="color:#00D">7</span>
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Item received command: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.command<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span> ) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when item receives one of many specific commands</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  received_command <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">commands</span>: [<span style="color:#00D">7</span>,<span style="color:#00D">14</span>]
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Item received command: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.command<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span> ) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when group receives a specific command</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  received_command <span style="color:#036;font-weight:bold">AlarmModes</span>
  triggered { |item| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Group </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> received command</span><span style="color:#710">&quot;</span></span>)}
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when member of group receives any command</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  received_command <span style="color:#036;font-weight:bold">AlarmModes</span>.members
  triggered { |item| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Group item </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> received command</span><span style="color:#710">&quot;</span></span>)}
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when member of group is changed to one of many states</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  received_command <span style="color:#036;font-weight:bold">AlarmModes</span>.members, <span style="color:#606">commands</span>: [<span style="color:#00D">7</span>, <span style="color:#00D">14</span>]
  triggered { |item| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Group item </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> received command</span><span style="color:#710">&quot;</span></span>)}
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when item receives a range of commands</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  received_command <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">commands</span>: <span style="color:#00D">7</span>..<span style="color:#00D">14</span>
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Item received command: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.command<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span> ) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with procs</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when Alarm Mode command is odd</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  received_command <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">command</span>: proc { |c| c.odd? }
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Item received command: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.command<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span> ) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with lambdas</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when Alarm Mode command is odd</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  received_command <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">command</span>: -&gt; c { c.odd? }
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Item received command: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.command<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span> ) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>items</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span></tt>, <tt><span class='object_link'><a href="../../Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">GroupItem::Members</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Items to create trigger for</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>command</span>
      
      
        <span class='type'>(<tt>Core::TypesCommand</tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'>Command</span>&gt;</tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>, <tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>commands to match for trigger</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>commands</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'>Command</span>&gt;</tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>, <tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Fluent alias for <code>command</code></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1142
1143
1144
1145
1146
1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164
1165
1166</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1142</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">received_command</span>(*items, <span style="color:#606">command</span>: <span style="color:#069">nil</span>, <span style="color:#606">commands</span>: <span style="color:#069">nil</span>, <span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  command_trigger = <span style="color:#036;font-weight:bold">Command</span>.new(<span style="color:#606">rule_triggers</span>: <span style="color:#33B">@rule_triggers</span>)

  <span style="color:#777"># if neither command nor commands is specified, ensure that we create</span>
  <span style="color:#777"># a trigger that isn't looking for a specific command.</span>
  commands = [<span style="color:#069">nil</span>] <span style="color:#080;font-weight:bold">if</span> command.nil? &amp;&amp; commands.nil?
  commands = <span style="color:#036;font-weight:bold">Array</span>.wrap(command) | <span style="color:#036;font-weight:bold">Array</span>.wrap(commands)

  <span style="color:#33B">@ruby_triggers</span> &lt;&lt; [<span style="color:#A60">:received_command</span>, items, { <span style="color:#606">command</span>: commands }]

  items.each <span style="color:#080;font-weight:bold">do</span> |item|
    <span style="color:#080;font-weight:bold">case</span> item
    <span style="color:#080;font-weight:bold">when</span> <span style="color:#036;font-weight:bold">Core</span>::<span style="color:#036;font-weight:bold">Items</span>::<span style="color:#036;font-weight:bold">Item</span>,
         <span style="color:#036;font-weight:bold">Core</span>::<span style="color:#036;font-weight:bold">Items</span>::<span style="color:#036;font-weight:bold">GroupItem</span>::<span style="color:#036;font-weight:bold">Members</span>
      <span style="color:#069">nil</span>
    <span style="color:#080;font-weight:bold">else</span>
      raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">items must be an Item or GroupItem::Members</span><span style="color:#710">&quot;</span></span>
    <span style="color:#080;font-weight:bold">end</span>
    commands.each <span style="color:#080;font-weight:bold">do</span> |cmd|
      logger.trace <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Creating received command trigger for items </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> and commands </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>cmd.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>

      command_trigger.trigger(<span style="color:#606">item</span>: item, <span style="color:#606">command</span>: cmd, <span style="color:#606">attach</span>: attach)
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run-instance_method">
  
    #<strong>run</strong> {|event| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Add a block that will be passed event data.</p>
<p>The run property is the automation code that is executed when a rule
is triggered. This property accepts a block of code and executes it.
The block is automatically passed an event object which can be used
to access multiple properties about the triggering event. The code
for the automation can be entirely within the run block and can call
methods defined in the Ruby script.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p><code>{}</code> style used for single line blocks.</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Access Event Properties</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">TestSwitch</span>
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> triggered from </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.was<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> to </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.state<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p><code>do/end</code> style used for multi-line blocks.</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Multi Line Run Block</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">TestSwitch</span>
  run <span style="color:#080;font-weight:bold">do</span> |event|
    logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> triggered</span><span style="color:#710">&quot;</span></span>)
    logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">from </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.was<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) <span style="color:#080;font-weight:bold">if</span> event.was?
    logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">to </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.state<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) <span style="color:#080;font-weight:bold">if</span> event.state?
   <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Rules can have multiple run blocks and they are executed in order. Useful when used in combination with <span class='object_link'><a href="#delay-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#delay (method)">#delay</a></span>.</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Multiple Run Blocks</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">TestSwitch</span>
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> triggered</span><span style="color:#710">&quot;</span></span>) }
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">from </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.was<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) <span style="color:#080;font-weight:bold">if</span> event.was? }
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">to </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.state<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) <span style="color:#080;font-weight:bold">if</span> event.state?  }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>event</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Events/AbstractEvent.html" title="OpenHAB::Core::Events::AbstractEvent (class)">Core::Events::AbstractEvent</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


198</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 198</span>

prop_array <span style="color:#A60">:run</span>, <span style="color:#606">array_name</span>: <span style="color:#A60">:run_queue</span>, <span style="color:#606">wrapper</span>: <span style="color:#036;font-weight:bold">Run</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tags-instance_method">
  
    #<strong>tags</strong>(tags)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Set the rule's tags.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">tagged rule</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  tags <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">lighting</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">security</span><span style="color:#710">&quot;</span></span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>tags</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../../../Class.html" title="Class (class)">Class</a></span></tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;String, <span class='object_link'><a href="../../../Class.html" title="Class (class)">Class</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


366</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 366</span>

prop <span style="color:#A60">:tags</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="thing_added-instance_method">
  
    #<strong>thing_added</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a thing added trigger</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">thing added</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  thing_added
  run <span style="color:#080;font-weight:bold">do</span> |event|
    logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.thing.uid<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> added.</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1181
1182
1183
1184
1185</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1181</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">thing_added</span>(<span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  <span style="color:#33B">@ruby_triggers</span> &lt;&lt; [<span style="color:#A60">:thing_added</span>]
  trigger(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">core.GenericEventTrigger</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">eventTopic</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">openhab/things/*/added</span><span style="color:#710">&quot;</span></span>,
                                      <span style="color:#606">eventTypes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ThingAddedEvent</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">attach</span>: attach)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="thing_removed-instance_method">
  
    #<strong>thing_removed</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a thing removed trigger</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">thing removed</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  thing_removed
  run <span style="color:#080;font-weight:bold">do</span> |event|
    logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.thing.uid<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> removed.</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1200
1201
1202
1203
1204</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1200</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">thing_removed</span>(<span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  <span style="color:#33B">@ruby_triggers</span> &lt;&lt; [<span style="color:#A60">:thing_removed</span>]
  trigger(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">core.GenericEventTrigger</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">eventTopic</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">openhab/things/*/removed</span><span style="color:#710">&quot;</span></span>,
                                      <span style="color:#606">eventTypes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ThingRemovedEvent</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">attach</span>: attach)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="thing_updated-instance_method">
  
    #<strong>thing_updated</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a thing updated trigger</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">thing updated</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  thing_updated
  run <span style="color:#080;font-weight:bold">do</span> |event|
    logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.thing.uid<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> updated.</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1220
1221
1222
1223
1224</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1220</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">thing_updated</span>(<span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  <span style="color:#33B">@ruby_triggers</span> &lt;&lt; [<span style="color:#A60">:thing_removed</span>]
  trigger(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">core.GenericEventTrigger</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">eventTopic</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">openhab/things/*/updated</span><span style="color:#710">&quot;</span></span>,
                                      <span style="color:#606">eventTypes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ThingUpdatedEvent</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">attach</span>: attach)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="trigger-instance_method">
  
    #<strong>trigger</strong>(type, attach: nil, **configuration)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Create a generic trigger given the trigger type uid and a configuration hash</p>
<p>This provides the ability to create a trigger type not already covered by the other methods.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Create a trigger for the <a href="https://www.openhab.org/addons/automation/pidcontroller/">PID Controller Automation</a> add-on.</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">PID Control</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  trigger <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">pidcontroller.trigger</span><span style="color:#710">'</span></span>,
    <span style="color:#606">input</span>: <span style="color:#036;font-weight:bold">InputItem</span>.name,
    <span style="color:#606">setpoint</span>: <span style="color:#036;font-weight:bold">SetPointItem</span>.name,
    <span style="color:#606">kp</span>: <span style="color:#00D">10</span>,
    <span style="color:#606">ki</span>: <span style="color:#00D">10</span>,
    <span style="color:#606">kd</span>: <span style="color:#00D">10</span>,
    <span style="color:#606">kdTimeConstant</span>: <span style="color:#00D">1</span>,
    <span style="color:#606">loopTime</span>: <span style="color:#00D">1000</span>

  run <span style="color:#080;font-weight:bold">do</span> |event|
    logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">PID controller command: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.command<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)
    <span style="color:#036;font-weight:bold">ControlItem</span> &lt;&lt; event.command
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>DateTime Trigger</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">DateTime Trigger</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  description <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Triggers at a time specified in MyDateTimeItem</span><span style="color:#710">'</span></span>
  trigger <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">timer.DateTimeTrigger</span><span style="color:#710">'</span></span>, <span style="color:#606">itemName</span>: <span style="color:#036;font-weight:bold">MyDateTimeItem</span>.name
  run <span style="color:#080;font-weight:bold">do</span>
    logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">DateTimeTrigger has been triggered</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Trigger type UID</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>configuration</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A hash containing the trigger configuration entries</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1262
1263
1264
1265
1266</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1262</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">trigger</span>(type, <span style="color:#606">attach</span>: <span style="color:#069">nil</span>, **configuration)
  logger.trace(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Creating a generic trigger for type(</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>type<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">) with configuration(</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>configuration<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">)</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#036;font-weight:bold">Triggers</span>::<span style="color:#036;font-weight:bold">Trigger</span>.new(<span style="color:#606">rule_triggers</span>: <span style="color:#33B">@rule_triggers</span>)
                   .append_trigger(<span style="color:#606">type</span>: type, <span style="color:#606">config</span>: configuration, <span style="color:#606">attach</span>: attach)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="triggered-instance_method">
  
    #<strong>triggered</strong> {|item| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Add a block that will be passed the triggering item.</p>
<p>This property is the same as the <span class='object_link'><a href="#run-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#run (method)">#run</a></span> property except rather than
passing an event object to the automation block the triggered item is
passed. This enables optimizations for simple cases and supports
Ruby's <a href="https://medium.com/@dcjones/the-pretzel-colon-75df46dde0c7">pretzel colon <code>&amp;:</code> operator.</a>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">motion sensor triggered</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">MotionSensor</span>.members, <span style="color:#606">to</span>: <span style="color:#A60">:OPEN</span>
  triggered <span style="color:#080;font-weight:bold">do</span> |item|
    logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> detected motion</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Triggered has access directly to item triggered</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">TestSwitch</span>
  triggered { |item| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> triggered</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Triggered items are highly useful when working with groups</p>
</div></p>
      
      <pre class="example code"><code><span style="color:#777"># Switches is a group of Switch items</span>
rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Triggered item is item changed when a group item is changed.</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">Switches</span>.members
  triggered { |item| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Switch </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> changed to </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.state<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>)}
<span style="color:#080;font-weight:bold">end</span>

rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Turn off any switch that changes</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">Switches</span>.members
  triggered(&amp;<span style="color:#A60">:off</span>)
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Like other execution blocks, multiple triggered blocks are supported in a single rule</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Turn a switch off and log it, 5 seconds after turning it on</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  changed <span style="color:#036;font-weight:bold">Switches</span>.members, <span style="color:#606">to</span>: <span style="color:#036;font-weight:bold">ON</span>
  delay <span style="color:#00D">5</span>.seconds
  triggered(&amp;<span style="color:#A60">:off</span>)
  triggered {|item| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.label<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> turned off</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>item</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


248</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 248</span>

prop_array <span style="color:#A60">:triggered</span>, <span style="color:#606">array_name</span>: <span style="color:#A60">:run_queue</span>, <span style="color:#606">wrapper</span>: <span style="color:#036;font-weight:bold">Trigger</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uid-instance_method">
  
    #<strong>uid</strong>(id)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Set the rule's UID.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


331</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 331</span>

prop <span style="color:#A60">:uid</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="updated-instance_method">
  
    #<strong>updated</strong>(*items, to: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Create a trigger when item, group or thing is updated</p>
<p>The <code>event</code> passed to run blocks will be an
<span class='object_link'><a href="../../Core/Events/ItemStateEvent.html" title="OpenHAB::Core::Events::ItemStateEvent (class)">Core::Events::ItemStateEvent</a></span> or a
<span class='object_link'><a href="../../Core/Events/ThingStatusInfoEvent.html" title="OpenHAB::Core::Events::ThingStatusInfoEvent (class)">Core::Events::ThingStatusInfoEvent</a></span> depending on if the triggering
element was an item or a thing.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when item is updated to any value</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  updated <span style="color:#036;font-weight:bold">Alarm_Mode</span>
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Alarm Mode Updated</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when item is updated to specific number</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  updated <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">to</span>: <span style="color:#00D">7</span>
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Alarm Mode Updated</span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when item is updated to one of many specific states</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  updated <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">to</span>: [<span style="color:#00D">7</span>, <span style="color:#00D">14</span>]
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Alarm Mode Updated</span><span style="color:#710">&quot;</span></span>)}
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when item is within a range</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  updated <span style="color:#036;font-weight:bold">Alarm_Mode</span>, <span style="color:#606">to</span>: <span style="color:#00D">7</span>..<span style="color:#00D">14</span>
  run { logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Alarm Mode Updated to a value between 7 and 14</span><span style="color:#710">&quot;</span></span>)}
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when group is updated to any state</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  updated <span style="color:#036;font-weight:bold">AlarmModes</span>
  triggered { |item| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Group </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> updated</span><span style="color:#710">&quot;</span></span>)}
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when member of group is changed to any state</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  updated <span style="color:#036;font-weight:bold">AlarmModes</span>.members
  triggered { |item| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Group item </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> updated</span><span style="color:#710">&quot;</span></span>)}
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when member of group is changed to one of many states</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  updated <span style="color:#036;font-weight:bold">AlarmModes</span>.members, <span style="color:#606">to</span>: [<span style="color:#00D">7</span>, <span style="color:#00D">14</span>]
  triggered { |item| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Group item </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> updated</span><span style="color:#710">&quot;</span></span>)}
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with procs</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when member of group is changed to an odd state</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  updated <span style="color:#036;font-weight:bold">AlarmModes</span>.members, <span style="color:#606">to</span>: proc { |t| t.odd? }
  triggered { |item| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Group item </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> updated</span><span style="color:#710">&quot;</span></span>)}
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with lambdas:</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when member of group is changed to an odd state</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  updated <span style="color:#036;font-weight:bold">AlarmModes</span>.members, <span style="color:#606">to</span>: -&gt; t { t.odd? }
  triggered { |item| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Group item </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> updated</span><span style="color:#710">&quot;</span></span>)}
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with things as well</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Execute rule when thing is updated</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
   updated things[<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">astro:sun:home</span><span style="color:#710">'</span></span>], <span style="color:#A60">:to</span> =&gt; <span style="color:#A60">:uninitialized</span>
   run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Thing </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.uid<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> status &lt;trigger&gt; to </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.status<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>items</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span></tt>, <tt><span class='object_link'><a href="../../Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">GroupItem::Members</a></span></tt>, <tt>Thing</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Objects to create trigger for.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>to</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span></tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span>&gt;</tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>, <tt>Proc</tt>, <tt><span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Only execute rule if the state matches <code>to</code> state(s). If the
updated element is a <span class='object_link'><a href="../../Core/Things/Thing.html" title="OpenHAB::Core::Things::Thing (module)">Core::Things::Thing</a></span>, the <code>to</code> accepts
symbols and strings that match
<a href="https://www.openhab.org/docs/concepts/things.html#thing-status">supported thing statuses</a>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1346
1347
1348
1349
1350
1351
1352
1353
1354
1355
1356
1357
1358
1359
1360
1361
1362
1363
1364
1365</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1346</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">updated</span>(*items, <span style="color:#606">to</span>: <span style="color:#069">nil</span>, <span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  updated = <span style="color:#036;font-weight:bold">Updated</span>.new(<span style="color:#606">rule_triggers</span>: <span style="color:#33B">@rule_triggers</span>)
  <span style="color:#33B">@ruby_triggers</span> &lt;&lt; [<span style="color:#A60">:updated</span>, items, { <span style="color:#606">to</span>: to }]
  items.map <span style="color:#080;font-weight:bold">do</span> |item|
    <span style="color:#080;font-weight:bold">case</span> item
    <span style="color:#080;font-weight:bold">when</span> <span style="color:#036;font-weight:bold">Core</span>::<span style="color:#036;font-weight:bold">Things</span>::<span style="color:#036;font-weight:bold">Thing</span>,
         <span style="color:#036;font-weight:bold">Core</span>::<span style="color:#036;font-weight:bold">Things</span>::<span style="color:#036;font-weight:bold">ThingUID</span>,
         <span style="color:#036;font-weight:bold">Core</span>::<span style="color:#036;font-weight:bold">Items</span>::<span style="color:#036;font-weight:bold">Item</span>,
         <span style="color:#036;font-weight:bold">Core</span>::<span style="color:#036;font-weight:bold">Items</span>::<span style="color:#036;font-weight:bold">GroupItem</span>::<span style="color:#036;font-weight:bold">Members</span>
      <span style="color:#069">nil</span>
    <span style="color:#080;font-weight:bold">else</span>
      raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">items must be an Item, GroupItem::Members, Thing, or ThingUID</span><span style="color:#710">&quot;</span></span>
    <span style="color:#080;font-weight:bold">end</span>

    logger.trace(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Creating updated trigger for item(</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>item<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">) to(</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>to<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">)</span><span style="color:#710">&quot;</span></span>)
    [to].flatten.map <span style="color:#080;font-weight:bold">do</span> |to_state|
      updated.trigger(<span style="color:#606">item</span>: item, <span style="color:#606">to</span>: to_state, <span style="color:#606">attach</span>: attach)
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>.flatten
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="watch-instance_method">
  
    #<strong>watch</strong>(path, glob: &quot;*&quot;, for: %i[created deleted modified], attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Create a trigger to watch a path</p>
<p>It provides the ability to create a trigger on file and directory
changes.</p>
<p>If a file or a path that does not exist is supplied as the argument
to watch, the parent directory will be watched and the file or
non-existent part of the supplied path will become the glob. For
example, if the directory given is <code>/tmp/foo/bar</code> and <code>/tmp/foo</code>
exists but <code>bar</code> does not exist inside of of <code>/tmp/foo</code> then the
directory <code>/tmp/foo</code> will be watched for any files that match
<code>*/bar</code>.</p>
<p>If the last part of the path contains any glob characters e.g.
<code>/tmp/foo/*bar</code>, the parent directory will be watched and the last
part of the path will be treated as if it was passed as the <code>glob</code>
argument. In other words, <code>watch '/tmp/foo/*bar'</code> is equivalent to
<code>watch '/tmp/foo', glob: '*bar'</code></p>
<p>The <code>event</code> passed to run blocks will be a <span class='object_link'><a href="../Events/WatchEvent.html" title="OpenHAB::DSL::Events::WatchEvent (class)">Events::WatchEvent</a></span>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Watch <code>items</code> directory inside of the openHAB configuration path and log any changes.</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">watch directory</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  watch <span style="color:#036;font-weight:bold">OpenHAB</span>::<span style="color:#036;font-weight:bold">Core</span>.config_folder / <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">items</span><span style="color:#710">'</span></span>
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.path.basename<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.type<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Watch <code>items</code> directory for files that end in <code>*.erb</code> and log any changes</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">watch directory</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  watch <span style="color:#036;font-weight:bold">OpenHAB</span>::<span style="color:#036;font-weight:bold">Core</span>.config_folder / <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">items</span><span style="color:#710">'</span></span>, <span style="color:#606">glob</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">*.erb</span><span style="color:#710">'</span></span>
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.path.basename<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.type<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Watch <code>items/foo.items</code> log any changes</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">watch directory</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  watch <span style="color:#036;font-weight:bold">OpenHAB</span>::<span style="color:#036;font-weight:bold">Core</span>.config_folder / <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">items/foo.items</span><span style="color:#710">'</span></span>
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.path.basename<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.type<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Watch <code>items/*.items</code> log any changes</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">watch directory</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  watch <span style="color:#036;font-weight:bold">OpenHAB</span>::<span style="color:#036;font-weight:bold">Core</span>.config_folder / <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">items/*.items</span><span style="color:#710">'</span></span>
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.path.basename<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.type<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Watch <code>items/*.items</code> for when items files are deleted or created (ignore changes)</p>
</div></p>
      
      <pre class="example code"><code>rule <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">watch directory</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">do</span>
  watch <span style="color:#036;font-weight:bold">OpenHAB</span>::<span style="color:#036;font-weight:bold">Core</span>.config_folder / <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">items/*.items</span><span style="color:#710">'</span></span>, <span style="color:#606">for</span>: [<span style="color:#A60">:deleted</span>, <span style="color:#A60">:created</span>]
  run { |event| logger.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.path.basename<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> - </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>event.type<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>) }
<span style="color:#080;font-weight:bold">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Path to watch. Can be a directory of a file.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>glob</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&quot;*&quot;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Limit events to paths matching this glob. Globs are matched using
<a href="https://ruby-doc.org/core-2.6/File.html#method-c-fnmatch-3F">File.fnmatch?</a>
rules.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>for</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;:created, :deleted, :modified&gt;</tt>, <tt>:created</tt>, <tt>:deleted</tt>, <tt>:modified</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>%i[created deleted modified]</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Types of changes to watch for.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1429
1430
1431
1432
1433
1434
1435
1436</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1429</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">watch</span>(path, <span style="color:#606">glob</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">*</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">for</span>: <span style="color:#A60"><span style="color:#740">%i[</span><span style="color:#A60">created deleted modified</span><span style="color:#740">]</span></span>, <span style="color:#606">attach</span>: <span style="color:#069">nil</span>)
  glob, path = <span style="color:#036;font-weight:bold">Watch</span>.glob_for_path(<span style="color:#036;font-weight:bold">Pathname</span>.new(path), glob)
  types = [binding.local_variable_get(<span style="color:#A60">:for</span>)].flatten
  config = { <span style="color:#606">path</span>: path.to_s, <span style="color:#606">types</span>: types.map(&amp;<span style="color:#A60">:to_s</span>), <span style="color:#606">glob</span>: glob.to_s }

  logger.trace <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Creating a watch trigger for </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>path<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> with glob </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>glob<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> on types </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>types.inspect<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>
  <span style="color:#036;font-weight:bold">Watch</span>.new(<span style="color:#606">rule_triggers</span>: <span style="color:#33B">@rule_triggers</span>).trigger(<span style="color:#606">config</span>: config, <span style="color:#606">attach</span>: attach)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

        <footer>
  Generated on Fri Dec  9 00:20:49 2022 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.1.3).
</footer>

      </main>
    </div>
  </body>
</html>
